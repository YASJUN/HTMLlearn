<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××××××箭头函数×××××</title>
    <style>
        div{
            width: 200px;
            height: 200px;
            background-color: #58a;
        }
    </style>
</head>

<body>
    <div id="ad"></div>
    <script>
        //1.点击div 2s后变粉色
        let ad = document.getElementById('ad');
        //绑定事件
        ad.addEventListener('click', function() {
            console.log(this)
            //修改背景颜色
            // this.style.backgroundColor = 'pink';
            // 箭头函数
            // 箭头函数的this指向在声明时的this
            setTimeout(() => {
                console.log(this)
                // 修改背景颜色
                this.style.background = 'pink';
            }, 2000);
        })

        // 2.数组中返回偶数的元素
        const arr =[1,2,3,4,5,6,7,8,9,10];

        // const result = arr.filter(function(item){
        //     if(item % 2 === 0){
        //         return true;
        //     }else{
        //         return false;
        //     }
        // })
        // console.log(result);
        // 箭头函数
        const result1 = arr.filter(item => item % 2 === 0);
        console.log(result1);
        //箭头函数适合与this无关的回调，定时器，数组的方法回调
        //箭头函数不适合与this有关的回调，事件回调，对象的方法
    </script>
    <script>
        // ES6允许你使用“箭头”（=>）定义一个函数。
        // 声明一个函数
        let fn = function (a, b) {

        }

        // 箭头函数
        let fna = (a, b) => {
            return a + b;
        }
        // 调用函数
        // console.log(fna(1, 2));


        //1.箭头函数中的this是静态的，始终指向函数声明时所在作用域下的this的值。
        function getname() {
            console.log(this.name)
        }
        let getname2 = () => {
            console.log(this.name)
        }
        // 设置window对象的name属性
        window.name = '张三'
        const obj = {
            name: '李四'
        }
        // 直接调用函数
        // getname()
        // getname2()
        //使用call方法调用
        // getname.call(obj)
        // getname2.call(obj)
        // call apply bind失效
        //2.箭头函数不能作为构造函数使用
        // let Person = (name, age) => {
        //     this.name
        //     this.age
        // }
        // let person = new Person('张三', 18)
        // console.log(person)
        //3.箭头函数没有自己的this，所以不能使用call() apply() bind()这些方法去改变this的指向
        //4.箭头函数没有arguments对象
        let fnb =() =>{
            console.log(arguments)
        }
        // fnb()
        //5.箭头函数简写
        // 1.省略小括号，当形参有且只有一个的时候
        let fn1 = a =>{ return a * a}; // 相当于 let fn1 = function(a){ return a * a };
        console.log(fn1(2))
        // 2.省略大括号，当代码体只有一条语句的时候，此时return必须省略，而且语句的执行结果就是函数的返回值
        let fn2 = a => a * a;
        console.log(fn2(8))
    </script>
</body>

</html>