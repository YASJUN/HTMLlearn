<html>
  <head>
    <meta charset="UTF-8" />
    <script src="../js/vue.js"></script>
  </head>
  <body>
    <!-- vue列表 先写一个 想生成多个某个dom 就在某个dom上用v-for -->
    <div id="root">
        <ul>
            <h2>人员列表</h2>
            <input type="text" placeholder="模糊搜索" v-model="keyword">
            <li v-for="p in filPersonList" :key="p.id">
               {{p.name}}-{{p.age}}-{{p.sex}}
            </li>
           
        </ul>
    </div>
    <script>
        //设置为 false 以阻止 vue 在启动时生成生产提示。
        Vue.config.productionTip = false;
        const vm = new Vue({
          el: '#root',
          data: {
            keyword:"",
            personList:[
                {id:"01","name":"马冬梅",age:18,sex:"女"},
                {id:"02","name":"周冬雨",age:19,sex:"女"},
                {id:"03","name":"周杰伦",age:20,sex:"男"},
                {id:"04","name":"温兆伦",age:20,sex:"男"},
            ],
            // filPersonList:[],
          },watch: {
            //   keyword:{
            //     immediate:true,
            //       handler(newVal){
            //         this.filPersonList = this.personList.filter((p)=>{
            //             return p.name.indexOf(newVal) !==-1
            //                 })
            //       }
            // }
          },
          computed: {
            // 直接当做普通属性调用不加括号
            // 任何data中数据变化立即重新计算
            // 计算属性会缓存
            filPersonList(){
              return this.personList.filter((p)=>{
                return p.name.indexOf(this.keyword) !==-1
              })
            }
          },
        });
    </script>
  </body>
</html>